<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Replacement cost — replacement_costs • oppr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Replacement cost — replacement_costs" />
<meta property="og:description" content="Calculate the replacement cost for priority actions in a project
prioritization problem (Moilanen et al. 2009). Actions associated
with larger replacement cost values are more irreplaceabe, and may
need to be implemented sooner than actions with lower replacement cost
values." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oppr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/oppr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/prioritizr/oppr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Replacement cost</h1>
    <small class="dont-index">Source: <a href='https://github.com/prioritizr/oppr/blob/master/R/replacement_costs.R'><code>R/replacement_costs.R</code></a></small>
    <div class="hidden name"><code>replacement_costs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate the replacement cost for priority actions in a project
prioritization problem (Moilanen <em>et al.</em> 2009). Actions associated
with larger replacement cost values are more irreplaceabe, and may
need to be implemented sooner than actions with lower replacement cost
values.</p>
    </div>

    <pre class="usage"><span class='fu'>replacement_costs</span>(<span class='no'>x</span>, <span class='no'>solution</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>project prioritization <code><a href='problem.html'>problem</a></code>.</p></td>
    </tr>
    <tr>
      <th>solution</th>
      <td><p><code><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></code> or
<code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></code> table containing the solutions. Here,
rows correspond to different solutions and columns correspond to
different actions. Each column in the argument to <code>solution</code> should
be named according to a different action in <code>x</code>.
Cell values indicate if an action is funded in a given solution or not,
and should be either zero or one. Arguments to <code>solution</code> can
contain additional columns, and they will be ignored.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p><code>integer</code> solution number to calculate replacement cost values.
Since each row in the argument to <code>solutions</code> corresponds to a
different solution, this argument should correspond to a row in
the argument to <code>solutions</code>. Defaults to 1.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></code> table containing the following
  columns:</p>
<p></p><dl class='dl-horizontal'>

  <dt><code>"action"</code></dt><dd><p><code>character</code> name of each action.</p></dd>

  <dt><code>"cost"</code></dt><dd><p><code>numeric</code> cost of each solution when each
    action is locked out.</p></dd>

  <dt><code>"obj"</code></dt><dd><p><code>numeric</code> objective value of each solution when
    each action is locked out. This is calculated using the objective
    function defined for the argument to <code>x</code>.</p></dd>

  <dt><code>"rep_cost"</code></dt><dd><p><code>numeric</code> replacement cost for each
    action. Greater values indicate greater irreplaceability. Missing
    (<code>NA</code>) values are assigned to actions which are not selected for
    funding in the specified solution, infinite (<code>Inf</code>) values are
    assigned to to actions which are required to meet feasibility
    constraints, and negative values mean that superior solutions than
    the specified solution exist.</p></dd>

  </dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Replacement cost values are calculated for each priority action
 specified in the solution. Missing (<code>NA</code>) values are assigned to
 actions which are not selected for funding in the specified solution.
 For a given action, its replacement cost is calculated by
 (i) calculating the objective value for the optimal solution to
 the argument to <code>x</code>, (ii) calculating the objective value for the
 optimal solution to the argument to <code>x</code> with the given action locked
 out, (iii) calculating the difference between the two objective
 values, (iv) the problem has an objective which aims to minimize
 the objective value (only <code><a href='add_min_set_objective.html'>add_min_set_objective</a></code>, then
 the resulting value is multiplied by minus one so that larger values
 always indicate actions with greater irreplaceability. Please note this
 function can take a long time to complete
 for large problems since it involves re-solving the problem for every
 action selected for funding.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Moilanen A, Arponen A, Stokland JN &amp; Cabeza M (2009) Assessing replacement
cost of conservation areas: how does habitat loss influence priorities?
<em>Biological Conservation</em>, <strong>142</strong>, 575--585.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='solution_statistics.html'>solution_statistics</a></code>,
  <code><a href='project_cost_effectiveness.html'>project_cost_effectiveness</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># load data</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>sim_projects</span>, <span class='no'>sim_features</span>, <span class='no'>sim_actions</span>)

<span class='co'># build problem with maximum richness objective and $400 budget</span>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='problem.html'>problem</a></span>(<span class='no'>sim_projects</span>, <span class='no'>sim_actions</span>, <span class='no'>sim_features</span>,
             <span class='st'>"name"</span>, <span class='st'>"success"</span>, <span class='st'>"name"</span>, <span class='st'>"cost"</span>, <span class='st'>"name"</span>) <span class='kw'>%&gt;%</span>
     <span class='fu'><a href='add_max_richness_objective.html'>add_max_richness_objective</a></span>(<span class='kw'>budget</span> <span class='kw'>=</span> <span class='fl'>400</span>) <span class='kw'>%&gt;%</span>
     <span class='fu'><a href='add_feature_weights.html'>add_feature_weights</a></span>(<span class='st'>"weight"</span>) <span class='kw'>%&gt;%</span>
     <span class='fu'><a href='add_binary_decisions.html'>add_binary_decisions</a></span>()

<span class='co'># solve problem</span>
<span class='no'>s</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='solve.html'>solve</a></span>(<span class='no'>p</span>)</div><div class='output co'>#&gt; Gurobi Optimizer version 9.0.1 build v9.0.1rc0 (linux64)
#&gt; Optimize a model with 47 rows, 47 columns and 102 nonzeros
#&gt; Model fingerprint: 0x5daec544
#&gt; Variable types: 0 continuous, 42 integer (42 binary)
#&gt; Semi-Variable types: 5 continuous, 0 integer
#&gt; Coefficient statistics:
#&gt;   Matrix range     [9e-02, 1e+02]
#&gt;   Objective range  [2e-01, 2e+00]
#&gt;   Bounds range     [1e+00, 1e+00]
#&gt;   RHS range        [1e+00, 4e+02]
#&gt; Found heuristic solution: objective 0.6654645
#&gt; Presolve removed 16 rows and 12 columns
#&gt; Presolve time: 0.00s
#&gt; Presolved: 31 rows, 35 columns, 64 nonzeros
#&gt; Variable types: 0 continuous, 35 integer (35 binary)
#&gt; Presolved: 31 rows, 35 columns, 64 nonzeros
#&gt; 
#&gt; 
#&gt; Root relaxation: objective 1.749045e+00, 11 iterations, 0.00 seconds
#&gt; 
#&gt;     Nodes    |    Current Node    |     Objective Bounds      |     Work
#&gt;  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
#&gt; 
#&gt; *    0     0               0       1.7490448    1.74904  0.00%     -    0s
#&gt; 
#&gt; Explored 0 nodes (11 simplex iterations) in 0.00 seconds
#&gt; Thread count was 1 (of 4 available processors)
#&gt; 
#&gt; Solution count 1: 1.74904 
#&gt; 
#&gt; Optimal solution found (tolerance 0.00e+00)
#&gt; Best objective 1.749044775334e+00, best bound 1.749044775334e+00, gap 0.0000%</div><div class='input'>
<span class='co'># print solution</span>
<span class='fu'><a href='print.html'>print</a></span>(<span class='no'>s</span>)</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 x 21</span><span>
#&gt;   solution status   obj  cost F1_action F2_action F3_action F4_action F5_action
#&gt;      </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>        1 OPTIM~  1.75  395.         1         1         0         1         1
#&gt; </span><span style='color: #949494;'># ... with 12 more variables: baseline_action </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F1_project </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>,
#&gt; #   F2_project </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F3_project </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F4_project </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F5_project </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>,
#&gt; #   baseline_project </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F1 </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F2 </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F3 </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F4 </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #949494;'>, F5 </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span></div><div class='input'>
<span class='co'># calculate replacement cost values</span>
<span class='no'>r</span> <span class='kw'>&lt;-</span> <span class='fu'>replacement_costs</span>(<span class='no'>p</span>, <span class='no'>s</span>)

<span class='co'># print output</span>
<span class='fu'><a href='print.html'>print</a></span>(<span class='no'>r</span>)</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 6 x 4</span><span>
#&gt;   name             cost    obj  rep_cost
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>           </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> F1_action        300.   1.64    0.108 
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> F2_action        397.   1.70    0.045</span><span style='text-decoration: underline;'>8</span><span>
#&gt; </span><span style='color: #BCBCBC;'>3</span><span> F3_action         </span><span style='color: #BB0000;'>NA</span><span>   </span><span style='color: #BB0000;'>NA</span><span>      </span><span style='color: #BB0000;'>NA</span><span>     
#&gt; </span><span style='color: #BCBCBC;'>4</span><span> F4_action        399.   1.56    0.192 
#&gt; </span><span style='color: #BCBCBC;'>5</span><span> F5_action        398.   1.18    0.569 
#&gt; </span><span style='color: #BCBCBC;'>6</span><span> baseline_action  </span><span style='color: #BB0000;'>Inf</span><span>  </span><span style='color: #BB0000;'>Inf</span><span>    -</span><span style='color: #BB0000;'>Inf</span><span>     </div><div class='input'>
<span class='co'># plot histogram of replacement costs,</span>
<span class='co'># with this objective, greater values indicate greater irreplaceability</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/hist'>hist</a></span>(<span class='no'>r</span>$<span class='no'>rep_cost</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Replacement cost"</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>""</span>)</div><div class='img'><img src='replacement_costs-1.png' alt='' width='700' height='433' /></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://jeffrey-hanson.com'>Jeffrey O Hanson</a>, <a href='http://www.richard-schuster.com/'>Richard Schuster</a>, <a href='http://strimas.com'>Matthew Strimas-Mackey</a>, Joseph Bennett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

