<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add maximum richness objective — add_max_richness_objective • ppr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Add maximum richness objective — add_max_richness_objective" />

<meta property="og:description" content="Set the objective of a project prioritization problem to
maximize the total number of features that are expected to persist, whilst
ensuring that the cost of the solution is within a pre-specified budget
(Joseph, Maloney &amp;amp; Possingham 2009). This objective is conceptually similar
to maximizing species richness in a study area. Furthermore, weights can
also be used to specify the relative importance of conserving specific
features (see add_feature_weights)." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ppr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ppr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/prioritizr/ppr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add maximum richness objective</h1>
    <small class="dont-index">Source: <a href='https://github.com/prioritizr/ppr/blob/master/R/add_max_richness_objective.R'><code>R/add_max_richness_objective.R</code></a></small>
    <div class="hidden name"><code>add_max_richness_objective.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Set the objective of a project prioritization <code><a href='problem.html'>problem</a></code> to
maximize the total number of features that are expected to persist, whilst
ensuring that the cost of the solution is within a pre-specified budget
(Joseph, Maloney &amp; Possingham 2009). This objective is conceptually similar
to maximizing species richness in a study area. Furthermore, weights can
also be used to specify the relative importance of conserving specific
features (see <code><a href='add_feature_weights.html'>add_feature_weights</a></code>).</p>
    
    </div>

    <pre class="usage"><span class='fu'>add_max_richness_objective</span>(<span class='no'>x</span>, <span class='no'>budget</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code><a href='ProjectProblem-class.html'>ProjectProblem-class</a></code> object.</p></td>
    </tr>
    <tr>
      <th>budget</th>
      <td><p><code>numeric</code> budget for funding actions.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='ProjectProblem-class.html'>ProjectProblem-class</a></code> object with the objective
  added to it.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A problem objective is used to specify the overall goal of the
  project prioritization problem. Please note that all project
  prioritization problems formulated in the <span class="pkg">ppr</span> package require
  the addition of objectives---failing to do so will return an error
  message when attempting to solve problem.</p>
    
    <h2 class="hasAnchor" id=""><a class="anchor" href="#"></a></h2>

    <p>Formulation:
  Here, the maximum richness objective seeks to find the set of actions that
  maximizes the total number of features  (e.g. populations, species,
  eco-systems) that is expected to persist within a pre-specified budget.
  Let \(I\) represent the set of conservation actions (indexed by
  \(i\)). Let \(C_i\) denote the cost for funding action \(i\), and
  let \(m\) denote the maximum expenditure (i.e. the budget). Also,
  let \(F\) represent each feature (indexed by \(f\)), \(W_f\)
  represent the weight for each feature \(f\) (defaults to one for
  each feature unless specified otherwise), and <code>E_f</code> denote the
  probability that each feature will go extinct given the funded
  conservation projects.</p>
<p>To guide the prioritization, the conservation actions are organized into
  conservation projects. Let \(J\) denote the set of conservation projects
  (indexed by \(j\)), and let \(A_{ij}\) denote which actions
  \(i \in I\) comprise each conservation project
  \(j \in J\) using zeros and ones. Next, let \(P_j\) represent
  the probability of project \(j\) being successful if it is funded. Also,
  let \(B_{fj}\) denote the enhanced probability that each feature
  \(s \in S\) associated with the project \(j \in J\)
  will persist if all of the actions that comprise project \(j\) are funded
  and that project is allocated to feature \(f\).</p>
<p>The binary control variables \(X_i\) in this problem indicate whether
  each project \(i \in I\) is funded or not. The decision
  variables in this problem are the \(Y_{j}\), \(Z_{fj}\), and \(E_f\)
  variables.
  Specifically, the binary \(Y_{j}\) variables indicate if project \(j\)
  is funded or not based on which actions are funded; the binary
  \(Z_{sj}\) variables indicate if project \(j\) is used to manage
  feature \(s\) or not; and the semi-continuous \(E_f\) variables
  denote the probability that feature \(f\) will go extinct.</p>
<p>Now that we have defined all the data and variables, we can formulate
  the problem. For convenience, let the symbol used to denote each set also
  represent its cardinality (e.g. if there are ten features, let \(F\)
  represent the set of ten features and also the number ten).</p>
<p>$$
  \mathrm{Maximize} \space \sum_{f = 0}^{F} (1 - E_f) W_f \space
  \mathrm{(eqn \space 1a)} \\
  \mathrm{Subject \space to}
  \sum_{i = 0}^{I} C_i \leq m \space \mathrm{(eqn \space 1b)} \\
  E_f = 1 - \sum_{j = 0}^{J} Z_{fj} P_j B_{fj} \space \forall \space f \in F
  \space \mathrm{(eqn \space 1c)} \\
  Z_{fj} \leq Y_{j} \space \forall \space j \in J \space \mathrm{(eqn \space
  1d)} \\
  \sum_{j = 0}^{J} Z_{fj} = 1 \space \forall \space f \in F \space
  \mathrm{(eqn \space 1e)} \\
  A_{ij} Y_{j} \leq X_{i} \space \forall \space i \in I, j \in J \space
  \mathrm{(eqn \space 1f)} \\
  E_{f} \geq 0, E_{f} \leq 1 \space \forall \space b \in B \space
  \mathrm{(eqn \space 1g)} \\
  X_{i}, Y_{j}, Z_{fj} \in [0, 1] \space \forall \space i \in I, j \in J, f
  \in F \space \mathrm{(eqn \space 1h)}
  $$</p>
<p>The objective (eqn 1a) is to maximize the weighted persistence of all the
species. Constraint (eqn 1b) limits the maximum expenditure (i.e. ensures
that the cost of the funded actions do not exceed the budget).
Constraints (eqn 1c) calculate the probability that each feature
will go extinct according to their allocated project.
Constraints (eqn 1d) ensure that feature can only be allocated to projects
that have all of their actions funded. Constraints (eqn 1e) state that each
feature can only be allocated to a single project. Constraints (eqn 1f)
ensure that a project cannot be funded unless all of its actions are funded.
Constraints (eqns 1g) ensure that the probability variables
\(E_s\)) are bounded between zero and one. Constraints (eqns 1h) ensure
that the action funding (\(X_j\)), project funding (\(Y_j\)), and project
allocation (\(Z_{fj}\)) variables are binary.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Joseph LN, Maloney RF &amp; Possingham HP (2009) Optimal allocation of
resources among threatened species: A project prioritization protocol.
<em>Conservation Biology</em>, <strong>23</strong>, 328--338.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='objectives.html'>objectives</a></code>, <code><a href='targets.html'>targets</a></code>.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>#TODO

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#"></a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://jeffrey-hanson.com'>Jeffrey O Hanson</a>, <a href='http://www.richard-schuster.com/'>Richard Schuster</a>, <a href='http://strimas.com'>Matthew Strimas-Mackey</a>, <a href='https://josephrbennett.wordpress.com/'>Joeseph Bennett</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

